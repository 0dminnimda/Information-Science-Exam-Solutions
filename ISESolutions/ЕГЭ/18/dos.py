from itertools import repeat

d = [
    # [1, 8, 8, 4],
    # [10, 1, 1, 3],
    # [1, 3, 12, 2],
    # [2, 3, 5, 6],
    [80, 62, 77, 89, 24, 43, 44, 66, 47, 62, 13, 54, 61, 85, 79],
    [64, 35, 83, 66, 43, 96, 95, 33, 57, 69, 34, 96, 46, 24, 100],
    [34, 82, 77, 15, 96, 65, 64, 79, 14, 93, 96, 35, 26, 61, 89],
    [80, 82, 71, 80, 31, 37, 60, 61, 21, 53, 94, 54, 12, 38, 19],
    [88, 20, 36, 65, 28, 11, 81, 94, 28, 28, 49, 73, 51, 61, 52],
    [20, 26, 30, 68, 21, 29, 70, 65, 23, 95, 100, 22, 36, 82, 58],
    [56, 21, 21, 88, 57, 91, 75, 81, 12, 53, 83, 82, 96, 50, 94],
    [14, 94, 57, 99, 69, 91, 82, 81, 70, 18, 90, 30, 17, 56, 54],
    [45, 34, 70, 76, 90, 27, 77, 65, 74, 79, 90, 34, 52, 36, 90],
    [79, 25, 28, 47, 10, 23, 21, 58, 99, 55, 81, 99, 83, 100, 45],
    [14, 100, 35, 63, 13, 76, 24, 55, 47, 39, 61, 58, 11, 96, 23],
    [85, 64, 48, 88, 38, 89, 32, 36, 77, 59, 88, 54, 26, 87, 50],
    [15, 90, 24, 30, 46, 12, 85, 18, 12, 11, 81, 68, 34, 41, 60],
    [21, 91, 46, 69, 34, 16, 62, 69, 41, 36, 65, 58, 42, 39, 94],
    [33, 97, 17, 45, 98, 15, 26, 65, 46, 20, 83, 41, 35, 52, 76],

]

n = len(d)

bi = [[0]*n] + [[1]*n for _ in range(n-1)]
bi[8-1][2:5+1] = repeat(0)
bi[5-1][9:10+1] = repeat(0)

bj = [[0] + [1]*(n-1) for _ in range(n)]
bj[11-1][5:11+1] = repeat(0)

# bi = [
#     [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
#     [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
#     [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
#     [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
#     [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
#     [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1],
#     [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
#     [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
#     [1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1],
#     [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
#     [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
#     [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
#     [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
#     [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
#     [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
# ]

# bj = [
#     [80, 62, 77, 89, 24, 43, 44, 66, 47, 62, 13, 54, 61, 85, 79],
#     [64, 35, 83, 66, 43, 96, 95, 33, 57, 69, 34, 96, 46, 24, 100],
#     [34, 82, 77, 15, 96, 65, 64, 79, 14, 93, 96, 35, 26, 61, 89],
#     [80, 82, 71, 80, 31, 37, 60, 61, 21, 53, 94, 54, 12, 38, 19],
#     [88, 20, 36, 65, 28, 11, 81, 94, 28, 28, 49, 73, 51, 61, 52],
#     [20, 26, 30, 68, 21, 29, 70, 65, 23, 0, 0, 22, 36, 82, 58],
#     [56, 21, 21, 88, 57, 91, 75, 81, 12, 53, 83, 82, 96, 50, 94],
#     [14, 94, 57, 99, 69, 91, 82, 81, 70, 18, 90, 30, 17, 56, 54],
#     [45, 34, 70, 76, 90, 27, 77, 65, 74, 79, 90, 34, 52, 36, 90],
#     [79, 25, 28, 47, 10, 23, 21, 58, 99, 55, 81, 99, 83, 100, 45],
#     [14, 100, 35, 63, 13, 76, 24, 55, 47, 39, 61, 58, 11, 96, 23],
#     [85, 64, 48, 88, 38, 89, 32, 36, 77, 59, 88, 54, 26, 87, 50],
#     [15, 90, 24, 30, 46, 12, 85, 18, 12, 11, 81, 68, 34, 41, 60],
#     [21, 91, 46, 69, 34, 16, 62, 69, 41, 36, 65, 58, 42, 39, 94],
#     [33, 97, 17, 45, 98, 15, 26, 65, 46, 20, 83, 41, 35, 52, 76],
# ]


# m = 10000
# r = [[0] * n + [m] for _ in range(n)] + [[m]*n]

# for i in range(2*n - 1):
#     j = 0
#     while j < n and i >= 0:
#         if i == 0 and j == 0:
#             r[i][j] = d[i][j]
#         elif i < n and j < n:
#             a = [bi[i][j] and r[i-1][j], bj[i][j] and r[i][j-1]]
#             r[i][j] = d[i][j] + min(*filter(None, a), m)
#         j += 1
#         i -= 1

# pprint(r)


# r = [[0] * n for _ in range(n)]
# for i in range(2*n - 1):
#     j = 0
#     while j < n and i >= 0:
#         if i < n and j < n:
#             a = [bi[i][j] and r[i-1][j], bj[i][j] and r[i][j-1]]
#             r[i][j] = d[i][j] + min(list(filter(None, a)) + [0])
#         j += 1
#         i -= 1


r = [[0] * n for _ in range(n)]
r[0][0] = d[0][0]

for i in range(n):
    for j in range(n):
        if i + j != 0:
            a = [bi[i][j] * r[i-1][j], bj[j][i] * r[i][j-1]]
            r[i][j] = d[i][j] + max(filter(None, a))

print(r)
